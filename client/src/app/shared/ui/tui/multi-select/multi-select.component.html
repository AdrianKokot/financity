<ng-container *tuiLet="(stringify$ | async)! as stringify">
  <tui-multi-select
    (searchChange)="search$.next($event ?? '')"
    *tuiLet="ids$ | async as items"
    [expandable]="false"
    [formControl]="formControl"
    [stringify]="stringify"
    [tuiTextfieldLabelOutside]="true"
    placeholder="Search"
    class="mt-1"
    tuiTextfieldSize="m">
    Rock Star Frontend Developers
    <!--  <tui-data-list-wrapper-->
    <!--    *tuiDataList-->
    <!--    size="xs"-->
    <!--    [items]="items | tuiHideSelected"-->
    <!--    [itemContent]="stringify"></tui-data-list-wrapper>-->

    <cdk-virtual-scroll-viewport
      (scrolledIndexChange)="log()"
      *tuiDataList
      [itemSize]="34"
      [style.--items-count]="(items ?? []).length"
      class="viewport tui-zero-scrollbar"
      tuiScrollable>
      <tui-data-list tuiMultiSelectGroup>
        <button
          *cdkVirtualFor="let item of items"
          [value]="item"
          size="s"
          tuiOption>
          {{ stringify(item) }}
        </button>
      </tui-data-list>
    </cdk-virtual-scroll-viewport>
  </tui-multi-select>
</ng-container>

<!--<ng-template #itemContent let-data>-->
<!--  <div class="template">-->
<!--    <tui-avatar-->
<!--      size="xs"-->
<!--      class="avatar"-->
<!--      [avatarUrl]="data.avatarUrl"-->
<!--      [text]="data.toString()"></tui-avatar>-->
<!--    {{ data }}-->
<!--  </div>-->
<!--</ng-template>-->
