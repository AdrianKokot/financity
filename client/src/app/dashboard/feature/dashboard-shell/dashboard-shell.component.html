<div class="main-layout-header-box"></div>

<ng-container *tuiLet="initialDataLoading$ | async as initialDataLoading">
  <ng-container *tuiLet="ui$ | async as ui">
    <!--    <tui-loader [overlay]="true" [showLoader]="initialDataLoading !== false">-->
    <h1 class="tui-text_h4 header-box">Wallets</h1>
    <!--    <h1 class="tui-text_h4 header-box">Budgets</h1>-->

    <tui-loader
      *tuiLet="chart$ | async as chart"
      [overlay]="true"
      [showLoader]="chart === null">
      <tui-axes
        *ngIf="computeLabels$(range) | async as labels"
        class="axes"
        [verticalLines]="13"
        [horizontalLines]="4"
        [axisXLabels]="labels">
        <tui-bar-chart
          [tuiHintContent]="hint$ | async"
          *ngIf="chart"
          [max]="chart.max"
          [value]="chart.data"
          [collapsed]="false"></tui-bar-chart>
      </tui-axes>

      <!--      <tui-axes-->
      <!--        class="axes"-->
      <!--        *ngIf="computeLabels$(range) | async as labels"-->
      <!--        [verticalLines]="13"-->
      <!--        [horizontalLines]="4"-->
      <!--        [axisXLabels]="labels">-->
      <!--        <tui-line-chart-->
      <!--          *ngIf="chart"-->
      <!--          [x]="0"-->
      <!--          [y]="chart.min"-->
      <!--          [width]="1300"-->
      <!--          [height]="chart.height"-->
      <!--          [value]="chart.data"-->
      <!--          [yStringify]="yStringify"-->
      <!--          [filled]="true"></tui-line-chart>-->
      <!--      </tui-axes>-->
      <!--      </tui-loader>-->
      <!--      <tui-axes-->
      <!--        *ngIf="computeLabels$(range) | async as labels"-->
      <!--        class="axes"-->
      <!--        [verticalLines]="labels.length"-->
      <!--        [horizontalLines]="4"-->
      <!--        [axisXLabels]="labels">-->
      <!--        <tui-line-days-chart-->
      <!--          *ngIf="chart$ | async as chart"-->
      <!--          class="chart"-->
      <!--          [height]="200"-->
      <!--          [y]="-200"-->
      <!--          [value]="chart"></tui-line-days-chart>-->
      <!--      </tui-axes>-->
    </tui-loader>
  </ng-container>
</ng-container>

<!--<ng-container *tuiLet="dialogs$ | async" class="py-6">-->

<!--  <section class="py-6" *tuiLet="data.items$ | async as items">-->
<!--    <ng-template #tableView>-->
<!--      <main>-->
<!--        <div class="w-full d-flex gap-4 mb-4">-->
<!--          <label class="w-full">-->
<!--            <tui-input-->
<!--              [formControl]="filters.controls.search"-->
<!--              [tuiTextfieldLabelOutside]="true"-->
<!--              class="no-shadow"-->
<!--              tuiTextfieldSize="s">-->
<!--              Search-->
<!--              <input tuiTextfield type="text" />-->
<!--            </tui-input>-->
<!--          </label>-->

<!--          <ng-container-->
<!--            *tuiLet="(filters.filtersCount$ | async) ?? 0 as filtersCount">-->
<!--            <button-->
<!--              (click)="filters.reset()"-->
<!--              appearance="flat-outline"-->
<!--              icon="tuiIconFilter"-->
<!--              size="s"-->
<!--              class="applied-filters-button"-->
<!--              title="Reset filters to default"-->
<!--              tuiIconButton-->
<!--              type="button">-->
<!--              <tui-badge-->
<!--                *ngIf="filtersCount > 0"-->
<!--                [value]="filtersCount"-->
<!--                size="xs"-->
<!--                status="primary"></tui-badge>-->
<!--            </button>-->
<!--          </ng-container>-->

<!--          <button-->
<!--            (click)="ui.actions.create$.next(undefined)"-->
<!--            appearance="primary"-->
<!--            size="s"-->
<!--            tuiButton-->
<!--            type="button">-->
<!--            New wallet-->
<!--          </button>-->
<!--        </div>-->

<!--        <div-->
<!--          class="bg-base table-container border-radius-l border-base-3 border-width-s overflow-hidden">-->
<!--          <tui-scrollbar>-->
<!--            <cdk-virtual-scroll-viewport-->
<!--              #viewport-->
<!--              appInfiniteVirtualScroll-->
<!--              (pageChange)="data.page($event)"-->
<!--              [itemSize]="44"-->
<!--              [fixed]="15.5"-->
<!--              class="tui-zero-scrollbar"-->
<!--              tuiScrollable>-->
<!--              <table tuiTable [columns]="ui.columns" class="w-full">-->
<!--                <thead-->
<!--                  class="sticky-thead"-->
<!--                  [style.top.px]="-viewport['_renderedContentOffset']">-->
<!--                <tr tuiThGroup>-->
<!--                  <th *tuiHead="'name'" class="w-rest" [sorter]="null" tuiTh>-->
<!--                    Name-->
<!--                  </th>-->

<!--                  <th-->
<!--                    *tuiHead="'amount'"-->
<!--                    class="w-250px"-->
<!--                    [sorter]="null"-->
<!--                    tuiTh>-->
<!--                    Current amount-->
<!--                  </th>-->

<!--                  <th-->
<!--                    *tuiHead="'actions'"-->
<!--                    class="w-56px"-->
<!--                    [sorter]="null"-->
<!--                    tuiTh></th>-->
<!--                </tr>-->
<!--                </thead>-->
<!--                <tbody tuiTbody>-->
<!--                <tr-->
<!--                  class="clickable-tr"-->
<!--                  [routerLink]="[item.id]"-->
<!--                  *cdkVirtualFor="let item of items ?? []; trackBy: trackById"-->
<!--                  tuiTr>-->
<!--                  <td *tuiCell="'name'" tuiTd class="w-rest">-->
<!--                    <div class="text-ellipsis">{{ item.name }}</div>-->
<!--                  </td>-->
<!--                  <td *tuiCell="'amount'" tuiTd class="w-250px">-->
<!--                    <div class="text-ellipsis">-->
<!--                      <tui-money-->
<!--                        [currency]="item.currencyId"-->
<!--                        [colored]="true"-->
<!--                        [value]="item.currentState ?? 0">-->
<!--                      </tui-money>-->
<!--                    </div>-->
<!--                  </td>-->
<!--                  <td *tuiCell="'actions'" tuiTd class="w-56px">-->
<!--                    <button-->
<!--                      tuiIconButton-->
<!--                      [routerLink]="[item.id]"-->
<!--                      appearance="flat"-->
<!--                      size="s"-->
<!--                      icon="tuiIconEyeOpen"-->
<!--                      title="View details"-->
<!--                      shape="rounded"-->
<!--                      class="mr-1"></button>-->
<!--                  </td>-->
<!--                </tr>-->
<!--                </tbody>-->

<!--                <tfoot *tuiLet="(data.apiLoading$ | async)! as apiLoading">-->
<!--                <tr *ngIf="apiLoading || items === null">-->
<!--                  <td [colSpan]="ui.columns.length">-->
<!--                    <tui-loader></tui-loader>-->
<!--                  </td>-->
<!--                </tr>-->

<!--                <tr *ngIf="items && items.length === 0 && !apiLoading">-->
<!--                  <td-->
<!--                    [colSpan]="ui.columns.length"-->
<!--                    class="text-3 text-center">-->
<!--                    No records found-->
<!--                  </td>-->
<!--                </tr>-->
<!--                </tfoot>-->
<!--              </table>-->
<!--            </cdk-virtual-scroll-viewport>-->
<!--          </tui-scrollbar>-->
<!--        </div>-->
<!--      </main>-->
<!--    </ng-template>-->

<!--    <main *ngIf="ui.showSimplifiedView$ | async; else tableView">-->
<!--      <div class="simplified-grid-container gap-3">-->
<!--        <app-wallet-list-item (click)="ui.actions.create$.next(undefined)">-->
<!--          <div-->
<!--            class="w-full h-full d-flex justify-content-center align-items-center text-center tui-text_body-m">-->
<!--            <tui-svg src="tuiIconPlusLarge" class="mr-2"></tui-svg>-->
<!--            <span>Create new</span>-->
<!--          </div>-->
<!--        </app-wallet-list-item>-->

<!--        <ng-template #loading>-->
<!--          <app-wallet-list-item-->
<!--            *ngFor="let i of [1, 2, 3, 4, 5, 6]"-->
<!--            [showSkeleton]="true"></app-wallet-list-item>-->
<!--        </ng-template>-->

<!--        <app-wallet-list-item-->
<!--          *ngFor="let wallet of items; else: loading; trackBy: trackById"-->
<!--          [wallet]="wallet"></app-wallet-list-item>-->
<!--      </div>-->
<!--    </main>-->
<!--  </section>-->
<!--</ng-container>-->

<!--<main *tuiLet="dialogs$ | async">-->
<!--  <div class="w-full d-flex gap-4 mb-4">-->
<!--    <label class="w-full">-->
<!--      <tui-input-->
<!--        [formControl]="filters.controls.search"-->
<!--        [tuiTextfieldLabelOutside]="true"-->
<!--        class="no-shadow"-->
<!--        tuiTextfieldSize="s">-->
<!--        Search-->
<!--        <input tuiTextfield type="text" />-->
<!--      </tui-input>-->
<!--    </label>-->

<!--    <label class="w-250px">-->
<!--      <tui-input-date-range-->
<!--        [min]="ui.transactionDate.min"-->
<!--        [max]="ui.transactionDate.max"-->
<!--        [formControl]="filters.controls.transactionDate"-->
<!--        [items]="ui.transactionDate.items"-->
<!--        [tuiTextfieldCleaner]="true"-->
<!--        [tuiTextfieldLabelOutside]="true"-->
<!--        class="no-shadow"-->
<!--        tuiTextfieldSize="s">-->
<!--        Date range-->
<!--      </tui-input-date-range>-->
<!--    </label>-->

<!--    <ng-container-->
<!--      *tuiLet="(filters.filtersCount$ | async) ?? 0 as filtersCount">-->
<!--      <button-->
<!--        (click)="filters.reset()"-->
<!--        appearance="flat-outline"-->
<!--        icon="tuiIconFilter"-->
<!--        size="s"-->
<!--        class="applied-filters-button"-->
<!--        title="Reset filters to default"-->
<!--        tuiIconButton-->
<!--        type="button">-->
<!--        <tui-badge-->
<!--          *ngIf="filtersCount > 0"-->
<!--          [value]="filtersCount"-->
<!--          size="xs"-->
<!--          status="primary"></tui-badge>-->
<!--      </button>-->
<!--    </ng-container>-->

<!--    <button-->
<!--      (click)="ui.actions.create$.next(undefined)"-->
<!--      appearance="primary"-->
<!--      size="s"-->
<!--      tuiButton-->
<!--      type="button">-->
<!--      New transaction-->
<!--    </button>-->
<!--  </div>-->

<!--  <div-->
<!--    class="bg-base table-container border-radius-l border-base-3 border-width-s overflow-hidden">-->
<!--    <tui-scrollbar>-->
<!--      <cdk-virtual-scroll-viewport-->
<!--        *tuiLet="data.items$ | async as items"-->
<!--        #viewport-->
<!--        appInfiniteVirtualScroll-->
<!--        (pageChange)="data.page($event)"-->
<!--        [itemSize]="44"-->
<!--        [fixed]="15.5"-->
<!--        class="tui-zero-scrollbar"-->
<!--        tuiScrollable>-->
<!--        <table-->
<!--          tuiTable-->
<!--          [columns]="ui.columns"-->
<!--          class="w-full"-->
<!--          *tuiLet="wallet$ | async as wallet">-->
<!--          <thead-->
<!--            class="sticky-thead"-->
<!--            [style.top.px]="-viewport['_renderedContentOffset']">-->
<!--            <tr tuiThGroup>-->
<!--              <th-->
<!--                *tuiHead="'transactionDate'"-->
<!--                tuiTh-->
<!--                [sorter]="null"-->
<!--                class="w-100px">-->
<!--                Date-->
<!--              </th>-->
<!--              <th *tuiHead="'category'" tuiTh [sorter]="null" class="w-250px">-->
<!--                <tui-hosted-dropdown [content]="categoriesDropdown">-->
<!--                  <span-->
<!--                    [class.text-link]="-->
<!--                      filters.controls.categories.value.length > 0-->
<!--                    "-->
<!--                    class="column-filter-text">-->
<!--                    <span>Category</span>-->

<!--                    <tui-svg src="tuiIconSortDown"></tui-svg>-->
<!--                  </span>-->
<!--                </tui-hosted-dropdown>-->
<!--              </th>-->
<!--              <th *tuiHead="'labels'" tuiTh [sorter]="null" class="w-250px">-->
<!--                <tui-hosted-dropdown [content]="labelsDropdown">-->
<!--                  <span-->
<!--                    [class.text-link]="filters.controls.labels.value.length > 0"-->
<!--                    class="column-filter-text">-->
<!--                    <span>Labels</span>-->

<!--                    <tui-svg src="tuiIconSortDown"></tui-svg>-->
<!--                  </span>-->
<!--                </tui-hosted-dropdown>-->
<!--              </th>-->
<!--              <th *tuiHead="'note'" tuiTh [sorter]="null" class="w-rest">-->
<!--                Note-->
<!--              </th>-->
<!--              <th *tuiHead="'recipient'" [sorter]="null" class="w-250px" tuiTh>-->
<!--                <tui-hosted-dropdown [content]="recipientsDropdown">-->
<!--                  <span-->
<!--                    [class.text-link]="-->
<!--                      filters.controls.recipients.value.length > 0-->
<!--                    "-->
<!--                    class="column-filter-text">-->
<!--                    <span>Recipient</span>-->

<!--                    <tui-svg src="tuiIconSortDown"></tui-svg>-->
<!--                  </span>-->
<!--                </tui-hosted-dropdown>-->
<!--              </th>-->
<!--              <th *tuiHead="'amount'" tuiTh [sorter]="null" class="w-200px">-->
<!--                Amount-->
<!--              </th>-->
<!--              <th-->
<!--                *tuiHead="'actions'"-->
<!--                tuiTh-->
<!--                [sorter]="null"-->
<!--                class="w-128px"></th>-->
<!--            </tr>-->
<!--          </thead>-->

<!--          <tbody tuiTbody>-->
<!--            <tr-->
<!--              *cdkVirtualFor="let item of items ?? []; trackBy: trackById"-->
<!--              tuiTr>-->
<!--              <td *tuiCell="'transactionDate'" tuiTd class="w-100px">-->
<!--                <div-->
<!--                  class="text-ellipsis"-->
<!--                  *tuiLet="item.transactionDate | date as label"-->
<!--                  [title]="label">-->
<!--                  {{ label }}-->
<!--                </div>-->
<!--              </td>-->

<!--              <td *tuiCell="'category'" tuiTd class="w-250px">-->
<!--                <span-->
<!--                  *ngIf="item.category !== null"-->
<!--                  class="d-flex align-items-center">-->
<!--                  <tui-marker-icon-->
<!--                    size="xs"-->
<!--                    [attr.data-appearance-color]="-->
<!--                      item.category.appearance.color ?? ''-->
<!--                    "-->
<!--                    [src]="-->
<!--                      item.category.appearance.iconName ?? 'fa::question'-->
<!--                    "></tui-marker-icon>-->
<!--                  <span-->
<!--                    class="ml-2 text-ellipsis d-block"-->
<!--                    [title]="item.category.name">-->
<!--                    {{ item.category.name ?? '-' }}-->
<!--                  </span>-->
<!--                </span>-->
<!--              </td>-->

<!--              <td *tuiCell="'labels'" tuiTd class="w-250px">-->
<!--                <tui-items-with-more [required]="1" class="gap-1">-->
<!--                  <ng-container *ngFor="let label of item.labels">-->
<!--                    <tui-badge-->
<!--                      *tuiItem-->
<!--                      class="text-ellipsis max-w-150px"-->
<!--                      [attr.data-appearance-color]="label.appearance.color"-->
<!--                      status="custom"-->
<!--                      [value]="label.name"></tui-badge>-->
<!--                  </ng-container>-->
<!--                  <ng-template tuiMore>-->
<!--                    <a tuiLink (click)="ui.actions.details$.next(item)">-->
<!--                      and more-->
<!--                    </a>-->
<!--                  </ng-template>-->
<!--                </tui-items-with-more>-->
<!--              </td>-->

<!--              <td *tuiCell="'note'" tuiTd class="w-rest">-->
<!--                <div class="text-ellipsis" [title]="item.note">-->
<!--                  {{ (item.note ?? '').length > 0 ? item.note : '-' }}-->
<!--                </div>-->
<!--              </td>-->

<!--              <td *tuiCell="'recipient'" tuiTd class="w-250px">-->
<!--                <div class="text-ellipsis" [title]="item.recipient?.name">-->
<!--                  {{ item.recipient?.name ?? '-' }}-->
<!--                </div>-->
<!--              </td>-->

<!--              <td *tuiCell="'amount'" tuiTd class="w-200px">-->
<!--                <div class="text-ellipsis">-->
<!--                  <tui-money-->
<!--                    [currency]="item.currencyId"-->
<!--                    [colored]="true"-->
<!--                    [value]="-->
<!--                      item.amount *-->
<!--                      (item.transactionType === 'Expense' ? -1 : 1)-->
<!--                    "></tui-money>-->

<!--                  <ng-container-->
<!--                    *ngIf="wallet && item.currencyId !== wallet.currencyId">-->
<!--                    <span class="ml-2">(</span>-->
<!--                    <tui-money-->
<!--                      [colored]="false"-->
<!--                      [currency]="wallet.currencyId"-->
<!--                      [value]="item.amount * item.exchangeRate"></tui-money>-->
<!--                    <span>)</span>-->
<!--                  </ng-container>-->
<!--                </div>-->
<!--              </td>-->

<!--              <td *tuiCell="'actions'" tuiTd class="w-128px">-->
<!--                <button-->
<!--                  tuiIconButton-->
<!--                  appearance="flat"-->
<!--                  size="s"-->
<!--                  icon="fa::info"-->
<!--                  title="View details"-->
<!--                  shape="rounded"-->
<!--                  class="mr-1"-->
<!--                  (click)="ui.actions.details$.next(item)"></button>-->

<!--                <button-->
<!--                  tuiIconButton-->
<!--                  appearance="flat"-->
<!--                  size="s"-->
<!--                  icon="fa::pen"-->
<!--                  title="Edit"-->
<!--                  shape="rounded"-->
<!--                  class="mr-1"-->
<!--                  (click)="ui.actions.edit$.next(item.id)"></button>-->

<!--                <button-->
<!--                  tuiIconButton-->
<!--                  appearance="flat-destructive"-->
<!--                  size="s"-->
<!--                  icon="tuiIconTrash"-->
<!--                  title="Remove"-->
<!--                  appRequireConfirmation-->
<!--                  (confirm)="ui.actions.delete$.next(item.id)"-->
<!--                  confirmationMessage="Are you sure you want to delete this transaction? This action is irreversible."-->
<!--                  shape="rounded"></button>-->
<!--              </td>-->
<!--            </tr>-->
<!--          </tbody>-->

<!--          <tfoot *tuiLet="(data.apiLoading$ | async)! as apiLoading">-->
<!--            <tr *ngIf="apiLoading || items === null">-->
<!--              <td [colSpan]="ui.columns.length">-->
<!--                <tui-loader></tui-loader>-->
<!--              </td>-->
<!--            </tr>-->

<!--            <tr *ngIf="items && items.length === 0 && !apiLoading">-->
<!--              <td [colSpan]="ui.columns.length" class="text-3 text-center">-->
<!--                No records found-->
<!--              </td>-->
<!--            </tr>-->
<!--          </tfoot>-->
<!--        </table>-->
<!--      </cdk-virtual-scroll-viewport>-->
<!--    </tui-scrollbar>-->
<!--  </div>-->
<!--</main>-->
<h2 class="tui-text_h4 header-box">Latest transactions</h2>
<section class="py-6">
  <main *tuiLet="dialogs$ | async">
    <!--    <div class="w-full d-flex gap-4 mb-4">-->
    <!--      <label class="w-full">-->
    <!--        <tui-input-->
    <!--          [formControl]="filters.controls.search"-->
    <!--          [tuiTextfieldLabelOutside]="true"-->
    <!--          class="no-shadow"-->
    <!--          tuiTextfieldSize="s">-->
    <!--          Search-->
    <!--          <input tuiTextfield type="text" />-->
    <!--        </tui-input>-->
    <!--      </label>-->

    <!--      <ng-container-->
    <!--        *tuiLet="((filters.filtersCount$ | async) ?? 0) - 3 as filtersCount">-->
    <!--        <button-->
    <!--          (click)="filters.form.controls.search.reset()"-->
    <!--          appearance="flat-outline"-->
    <!--          icon="tuiIconFilter"-->
    <!--          size="s"-->
    <!--          class="applied-filters-button"-->
    <!--          title="Reset filters to default"-->
    <!--          tuiIconButton-->
    <!--          type="button">-->
    <!--          <tui-badge-->
    <!--            *ngIf="filtersCount > 0"-->
    <!--            [value]="filtersCount"-->
    <!--            size="xs"-->
    <!--            status="primary"></tui-badge>-->
    <!--        </button>-->
    <!--      </ng-container>-->
    <!--    </div>-->

    <div
      class="bg-base table-container border-radius-l border-base-3 border-width-s overflow-hidden">
      <tui-scrollbar>
        <cdk-virtual-scroll-viewport
          *tuiLet="data.items$ | async as items"
          #viewport
          appInfiniteVirtualScroll
          (pageChange)="data.page($event)"
          [itemSize]="44"
          [fixed]="6.5"
          class="tui-zero-scrollbar"
          tuiScrollable>
          <table tuiTable [columns]="ui.columns" class="w-full">
            <thead
              class="sticky-thead"
              [style.top.px]="-viewport['_renderedContentOffset']">
              <tr tuiThGroup>
                <th
                  *tuiHead="'transactionDate'"
                  tuiTh
                  [sorter]="null"
                  class="w-100px">
                  Date
                </th>
                <th *tuiHead="'category'" tuiTh [sorter]="null" class="w-250px">
                  Category
                </th>
                <th *tuiHead="'labels'" tuiTh [sorter]="null" class="w-250px">
                  Labels
                </th>
                <th *tuiHead="'note'" tuiTh [sorter]="null" class="w-rest">
                  Note
                </th>
                <th
                  *tuiHead="'recipient'"
                  [sorter]="null"
                  class="w-250px"
                  tuiTh>
                  Recipient
                </th>
                <th *tuiHead="'amount'" tuiTh [sorter]="null" class="w-200px">
                  Amount
                </th>
                <th
                  *tuiHead="'actions'"
                  tuiTh
                  [sorter]="null"
                  class="w-56px"></th>
              </tr>
            </thead>

            <tbody tuiTbody>
              <tr
                *cdkVirtualFor="let item of items ?? []; trackBy: trackById"
                tuiTr>
                <td *tuiCell="'transactionDate'" tuiTd class="w-100px">
                  <div
                    class="text-ellipsis"
                    *tuiLet="item.transactionDate | date as label"
                    [title]="label">
                    {{ label }}
                  </div>
                </td>

                <td *tuiCell="'category'" tuiTd class="w-250px">
                  <span
                    *ngIf="item.category !== null"
                    class="d-flex align-items-center">
                    <tui-marker-icon
                      size="xs"
                      [attr.data-appearance-color]="
                        item.category.appearance.color ?? ''
                      "
                      [src]="
                        item.category.appearance.iconName ?? 'fa::question'
                      "></tui-marker-icon>
                    <span
                      class="ml-2 text-ellipsis d-block"
                      [title]="item.category.name">
                      {{ item.category.name ?? '-' }}
                    </span>
                  </span>
                </td>

                <td *tuiCell="'labels'" tuiTd class="w-250px">
                  <tui-items-with-more [required]="1" class="gap-1">
                    <ng-container *ngFor="let label of item.labels">
                      <tui-badge
                        *tuiItem
                        class="text-ellipsis max-w-150px"
                        [attr.data-appearance-color]="label.appearance.color"
                        status="custom"
                        [value]="label.name"></tui-badge>
                    </ng-container>
                    <ng-template tuiMore>
                      <a tuiLink (click)="ui.actions.details$.next(item)">
                        and more
                      </a>
                    </ng-template>
                  </tui-items-with-more>
                </td>

                <td *tuiCell="'note'" tuiTd class="w-rest">
                  <div class="text-ellipsis" [title]="item.note">
                    {{ (item.note ?? '').length > 0 ? item.note : '-' }}
                  </div>
                </td>

                <td *tuiCell="'recipient'" tuiTd class="w-250px">
                  <div class="text-ellipsis" [title]="item.recipient?.name">
                    {{ item.recipient?.name ?? '-' }}
                  </div>
                </td>

                <td *tuiCell="'amount'" tuiTd class="w-200px">
                  <div class="text-ellipsis">
                    <tui-money
                      [currency]="item.currencyId"
                      [colored]="true"
                      [value]="
                        item.amount *
                        (item.transactionType === 'Expense' ? -1 : 1)
                      "></tui-money>
                  </div>
                </td>

                <td *tuiCell="'actions'" tuiTd class="w-56px">
                  <button
                    tuiIconButton
                    appearance="flat"
                    size="s"
                    icon="fa::info"
                    title="View transaction details"
                    shape="rounded"
                    class="mr-1"
                    (click)="ui.actions.details$.next(item)"></button>
                </td>
              </tr>
            </tbody>

            <tfoot *tuiLet="(data.apiLoading$ | async)! as apiLoading">
              <tr *ngIf="apiLoading || items === null">
                <td [colSpan]="ui.columns.length">
                  <tui-loader></tui-loader>
                </td>
              </tr>

              <tr *ngIf="items && items.length === 0 && !apiLoading">
                <td [colSpan]="ui.columns.length" class="text-3 text-center">
                  No records found
                </td>
              </tr>
            </tfoot>
          </table>
        </cdk-virtual-scroll-viewport>
      </tui-scrollbar>
    </div>
  </main>
</section>
