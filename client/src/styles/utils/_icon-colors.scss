@use "sass:string";
@use "sass:color";

@function getTextColor($hex, $inverse: false) {
  $r: color.red($hex);
  $g: color.green($hex);
  $b: color.blue($hex);

  @if (($r * 0.299 + $g * 0.587 + $b * 0.114) > 186) == not $inverse {
    @return var(--tui-base-08);
  } @else {
    @return var(--tui-base-01);
  }
}

$appearanceColor: (
  slate-100: #f1f5f9,
  slate-200: #e2e8f0,
  slate-300: #cbd5e1,
  slate-400: #94a3b8,
  slate-500: #64748b,
  slate-600: #475569,
  slate-700: #334155,
  slate-800: #1e293b,
  neutral-100: #f5f5f5,
  neutral-200: #e5e5e5,
  neutral-300: #d4d4d4,
  neutral-400: #a3a3a3,
  neutral-500: #737373,
  neutral-600: #525252,
  neutral-700: #404040,
  neutral-800: #262626,
  orange-100: #ffedd5,
  orange-200: #fed7aa,
  orange-300: #fdba74,
  orange-400: #fb923c,
  orange-500: #f97316,
  orange-600: #ea580c,
  orange-700: #c2410c,
  orange-800: #9a3412,
  yellow-100: #fef9c3,
  yellow-200: #fef08a,
  yellow-300: #fde047,
  yellow-400: #facc15,
  yellow-500: #eab308,
  yellow-600: #ca8a04,
  yellow-700: #a16207,
  yellow-800: #854d0e,
  lime-100: #ecfccb,
  lime-200: #d9f99d,
  lime-300: #bef264,
  lime-400: #a3e635,
  lime-500: #84cc16,
  lime-600: #65a30d,
  lime-700: #4d7c0f,
  lime-800: #3f6212,
  emerald-100: #d1fae5,
  emerald-200: #a7f3d0,
  emerald-300: #6ee7b7,
  emerald-400: #34d399,
  emerald-500: #10b981,
  emerald-600: #059669,
  emerald-700: #047857,
  emerald-800: #065f46,
  cyan-100: #cffafe,
  cyan-200: #a5f3fc,
  cyan-300: #67e8f9,
  cyan-400: #22d3ee,
  cyan-500: #06b6d4,
  cyan-600: #0891b2,
  cyan-700: #0e7490,
  cyan-800: #155e75,
  blue-100: #dbeafe,
  blue-200: #bfdbfe,
  blue-300: #93c5fd,
  blue-400: #60a5fa,
  blue-500: #3b82f6,
  blue-600: #2563eb,
  blue-700: #1d4ed8,
  blue-800: #1e40af,
  indigo-100: #e0e7ff,
  indigo-200: #c7d2fe,
  indigo-300: #a5b4fc,
  indigo-400: #818cf8,
  indigo-500: #6366f1,
  indigo-600: #4f46e5,
  indigo-700: #4338ca,
  indigo-800: #3730a3,
  violet-100: #ede9fe,
  violet-200: #ddd6fe,
  violet-300: #c4b5fd,
  violet-400: #a78bfa,
  violet-500: #8b5cf6,
  violet-600: #7c3aed,
  violet-700: #6d28d9,
  violet-800: #5b21b6,
  purple-100: #f3e8ff,
  purple-200: #e9d5ff,
  purple-300: #d8b4fe,
  purple-400: #c084fc,
  purple-500: #a855f7,
  purple-600: #9333ea,
  purple-700: #7e22ce,
  purple-800: #6b21a8,
  rose-100: #ffe4e6,
  rose-200: #fecdd3,
  rose-300: #fda4af,
  rose-400: #fb7185,
  rose-500: #f43f5e,
  rose-600: #e11d48,
  rose-700: #be123c,
  rose-800: #9f1239,
);

[data-appearance-color][rounded="true"] {
  height: 1.5625rem !important;
  width: 1.5625rem !important;
  min-height: 0 !important;
  padding: 0 !important;
  border-radius: 100% !important;
}

@each $name, $hex in $appearanceColor {
  :root {
    --#{$name}: #{$hex};
  }
  [data-appearance-color="#{$name}"] {
    background-color: var(--#{$name}) !important;
    color: getTextColor($hex) !important;
  }

  body tui-theme-night + tui-root [data-appearance-color="#{$name}"] {
    background-color: var(--#{$name}) !important;
    color: getTextColor($hex, true) !important;
  }
}
